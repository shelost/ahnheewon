<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ahnheewon | Project</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=Noto+Serif+JP:wght@200..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="icon" type="image/png" sizes="32x32" href="../@/assets/ahwsq3x.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="../@/assets/ahwsq3x.png" />
    <link href = '../@/css/style.css' rel = 'stylesheet'>
    <link href = '../@/css/project.css' rel = 'stylesheet'>
</head>
<body>

    <div id = 'navbar'>


        <div id = 'mast'>
            <a href = '/'>
                <img id = 'logo' src = '../@/assets/ahnheewon.png' alt = 'Logo'>
            </a>
        </div>

        <div id = 'nav'>
            <a href = '/blog'>
                <div class ='navbtn'>
                    <h2>
                        Blog
                    </h2>
                </div>
            </a>
            <a href = '/games'>
                <div class ='navbtn'>
                    <h2>
                        Games
                    </h2>
                </div>
            </a>
            <a href = '/design'>
                <div class ='navbtn active'>
                    <h2>
                        Design
                    </h2>
                </div>
            </a>
            <a href = '/comics'>
                <div class ='navbtn'>
                    <h2>
                        Comics
                    </h2>
                </div>
            </a>
            <a href = '/code'>
                <div class ='navbtn'>
                    <h2>
                        Code
                    </h2>
                </div>
            </a>
        </div>

        <div id = 'corner'>
            <a href = '/about'>
                <div class ='navbtn'>
                    <h2>
                        About Us
                    </h2>
                </div>
            </a>
            <a href = '/contact'>
                <div class ='navbtn'>
                    <h2>
                        Contact
                    </h2>
                </div>
            </a>
        </div>
    </div>


<div id = 'header'>
    <img id = 'ahw' src = '../@/assets/ahnheewon3.png' alt = 'ahnheewon Logo'>
    <h1 id='title'> Project not found </h1>
    <h2 id='subtitle'> Unfortunately, this project does not exist. </h2>
    <p id = 'blurb'></p>
    <a id = 'link' href = ''>
        <button id='cta' class = 'secondary'>
            Visit Homepage
        </button>
    </a>
</div>

<div id = 'container'>
    <div id = 'main'>

    </div>
</div>

<script>

    const urlParams = new URLSearchParams(window.location.search);
    const urlID = urlParams.get('project');

    // Then use the `projectID` to load relevant data
    loadProjectData(urlID);


    // Load project data dynamically from a JSON file
    function loadProjectData(projectID) {
        // Add a cache-busting query parameter to prevent caching issues
        fetch(`/design/projects.json?t=${new Date().getTime()}`)  // Fetch with cache-busting
            .then(response => response.json())
            .then(data => {
                const project = data.projects[projectID];
                if (project) {
                    document.getElementById('title').innerHTML = project.title;
                    document.getElementById('subtitle').innerHTML = project.subtitle;
                    document.getElementById('blurb').innerHTML = project.blurb;

                    // Clear any previous images
                    const galleryDiv = document.getElementById('main');
                    galleryDiv.innerHTML = '';

                    if (project.url){
                        document.getElementById('link').href = project.url
                    }else{
                        document.getElementById('link').style.display = 'none'
                    }


                    // Add images to the gallery
                    project.images.forEach(image => {
                        /*
                        const imgElement = document.createElement('img');
                        const titleElement = document.createElement('expo');
                        imgElement.src = image.url;
                        imgElement.alt = image.caption;
                        galleryDiv.appendChild(imgElement);
                        */
                        let div =
                        `
                        <div class = 'item size_${image.size} ${image.color}'>
                            <img src = '${image.url}' class = 'img' alt = '${image.title}'>
                            <div class = 'expo'>
                                <h1>
                                    ${image.title}
                                </h1>
                                <p>
                                    ${image.subtitle}
                                </p>
                            </div>
                        </div>
                        `

                        galleryDiv.innerHTML = galleryDiv.innerHTML + div
                    });
                } else {
                   // document.getElementById('title').innerText = 'Project not found';
                }
            })
            .catch(error => {
                console.error('Error loading project data:', error);
                document.getElementById('title').innerText = 'Error loading project';
            });
    }

    // Get project ID from the URL path
    const projectID = window.location.pathname.split('/').pop(); // e.g., /design/project-1 -> project-1
    loadProjectData(projectID);  // Load project data based on the project ID



</script>

</body>
<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script src = '../@/js/functions.js'></script>
<script src = '../@/js/script.js'></script>
<script src = '../@/js/project.js'></script>
</html>
